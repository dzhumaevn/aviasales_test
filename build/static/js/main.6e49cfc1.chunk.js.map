{"version":3,"sources":["images/logo.svg","getTickets.js","components/logo/Logo.js","components/filters/Filters.js","components/sorting/Sorting.js","components/ticket-inner-components/direction/Direction.js","components/ticket-inner-components/time/Time.js","components/ticket-inner-components/duration/Duration.js","components/ticket-inner-components/stops/Stops.js","components/ticket/Ticket.js","components/utils/ticketUtils.js","components/loading/Loading.js","components/tickets/Tickets.js","components/app/App.js","components/utils/sortTickets.js","components/utils/filterTickets.js","index.js"],"names":["module","exports","getTickets","subscribe","a","fetch","searchId","response","json","ticketsPack","tickets","stop","push","flatted","flat","sort","item1","item2","price","Promise","resolve","setTimeout","src","logo","alt","onFilter","className","formChecks","map","id","value","text","key","type","onInput","e","target","checked","htmlFor","getFormChecksHtml","onSort","sortBy","chepeastClasses","fastestClasses","onClick","props","origin","destination","departureTime","arrivalTime","durationValue","Fragment","stopsCount","stops","FlightData","flight","duration","getDestination","getDepartureTime","getArrivalTime","getDuration","getStops","getStopsCount","this","_MS_IN_MIN","_departureDate","Date","date","toLocaleTimeString","hour","minute","getTime","ms","getDay","getHours","getMinutes","getDurationTime","length","ticket","iata","carrier","segments","thither","back","thitherData","backData","style","display","justifyContent","toLocaleString","getOrigin","toString","xmlns","width","height","x","y","enableBackground","version","viewBox","xmlSpace","fill","d","attributeName","attributeType","begin","dur","repeatCount","values","onShowMore","loading","ticketsHtml","Math","random","content","disabled","App","state","showMoreCount","filters","filter","setState","unProcessedTickets","sortTickets","newFilters","Object","keys","includes","thitherStops","backStops","filterTickets","slice","Tickets","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2GAAAA,EAAOC,QAAU,IAA0B,kC,4YCkC5BC,G,MAlCC,uCAAG,yBAKHC,EALG,WAAAC,EAAA,iGAAAA,EAAA,MAKlB,kCAAAA,EAAA,+EAEyBC,MAAM,yDAAD,OAA0DC,IAFxF,cAEQC,EAFR,gBAG6CA,EAASC,OAHtD,mBAGkBC,EAHlB,EAGSC,QAHT,EAG+BC,KAH/B,wBAKGD,EAAQE,KAAKH,GALhB,UAMgBN,IANhB,wDASSU,EAAUH,EAAQI,OAAOC,MAAK,SAACC,EAAOC,GAAR,OAAkBD,EAAME,MAAQD,EAAMC,SAT7E,kBAkBUL,GAlBV,2EAqBQ,IAAIM,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAAS,QArBnD,yBAsBejB,IAtBf,oGALkB,uBAKHA,EALG,oDACKE,MAAM,+CADX,cACZE,EADY,gBAEOA,EAASC,OAFhB,uBAEXF,EAFW,EAEXA,SAEDI,EAAU,GAJE,UA+BLP,IA/BK,qFAAH,sD,yBCID,aACd,OACC,yBAAKmB,IAAKC,IAAMC,IAAI,M,OCHP,G,MAAA,YAAiB,IAAfC,EAAc,EAAdA,SA0BhB,OACC,yBAAKC,UAAU,mCACd,wBAAIA,UAAU,UAAd,uHAnBwB,SAACC,GAC1B,OAAOA,EAAWC,KAAI,YAAwB,IAAtBC,EAAqB,EAArBA,GAAIC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,KAClC,OACC,yBAAKC,IAAKH,EAAIH,UAAU,cACvB,2BAAOA,UAAU,mBACVO,KAAK,WACLH,MAAM,GACND,GAAIA,EACJK,QAAS,SAACC,GAAD,OAAOV,EAAS,eAAEK,EAAQK,EAAEC,OAAOC,aACnD,2BAAOX,UAAU,mBAAmBY,QAAST,GAC3CE,OAUHQ,CA5BgB,CAClB,CAACV,GAAI,MAAOC,MAAO,KAAMC,KAAM,sBAC/B,CAACF,GAAI,eAAgBC,MAAO,IAAKC,KAAM,6EACvC,CAACF,GAAI,UAAWC,MAAO,IAAKC,KAAM,4DAClC,CAACF,GAAI,WAAYC,MAAO,IAAKC,KAAM,4DACnC,CAACF,GAAI,aAAcC,MAAO,IAAKC,KAAM,iECNxB,G,MAAA,YAAuB,IAArBS,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OAClBC,EAAe,mBAA0B,aAAXD,EAAwB,SAAW,GAAlD,QACfE,EAAc,kBAAyB,YAAXF,EAAuB,SAAW,GAAhD,QACpB,OACC,yBAAKf,UAAU,gBACd,4BAAQA,UAAWgB,EAAiBE,QAAS,kBAAMJ,EAAO,cAA1D,6EACA,4BAAQd,UAAWiB,EAAgBC,QAAS,kBAAMJ,EAAO,aAAzD,gF,eCNY,G,YAAA,SAACK,GAAW,IACnBC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,YACf,OACC,yBAAKrB,UAAU,aACd,0BAAMA,UAAU,UAAUoB,GAD3B,WAC4C,0BAAMpB,UAAU,eAAeqB,MCJ9D,G,MAAA,SAACF,GAAW,IACnBG,EAA8BH,EAA9BG,cAAeC,EAAeJ,EAAfI,YACtB,OACC,yBAAKvB,UAAU,QACd,0BAAMA,UAAU,iBAAiBsB,GADlC,WAC0D,0BAAMtB,UAAU,eAAeuB,MCJ5E,G,MAAA,SAACJ,GAAW,IACnBK,EAAiBL,EAAjBK,cACP,OACC,kBAAC,IAAMC,SAAP,KACC,yBAAKzB,UAAU,iBAAf,mCACA,yBAAKA,UAAU,iBAAiBwB,MCLpB,G,MAAA,SAACL,GAAW,IACnBO,EAAqBP,EAArBO,WAAYC,EAASR,EAATQ,MACnB,OACC,kBAAC,IAAMF,SAAP,KACC,yBAAKzB,UAAU,cAAc0B,GAC7B,yBAAK1B,UAAU,SAAS2B,GAAgB,aCArCC,E,WACL,WAAYC,GAAS,ICTEP,EAAeQ,EAahBH,EDJF,gCAgBpBI,eAAiB,kBAAM,EAAKV,aAhBR,KAiBpBW,iBAAmB,kBAAM,EAAKV,eAjBV,KAkBpBW,eAAiB,kBAAM,EAAKV,aAlBR,KAmBpBW,YAAc,kBAAM,EAAKJ,UAnBL,KAoBpBK,SAAW,kBAAM,EAAKR,OApBF,KAqBpBS,cAAgB,kBAAM,EAAKV,YApB1BW,KAAKC,WAAa,IAClBD,KAAKE,eAAiB,IAAIC,KAAKX,EAAOY,MAEtCJ,KAAKjB,OAASS,EAAOT,OACrBiB,KAAKhB,YAAcQ,EAAOR,YAE1BgB,KAAKf,cAAgBe,KAAKE,eAAeG,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YAC3FP,KAAKd,aCjBiBD,EDiBYe,KAAKE,eAAeM,UCjBjBf,EDiB4BD,EAAOC,SAAWO,KAAKC,WChBlF,IAAIE,KAAKlB,EAAgBQ,GAAUY,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,aDiB3FP,KAAKP,SCdiB,SAACgB,GACxB,IAAML,EAAO,IAAID,KAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGM,GACxC,OAAsB,IAAlBL,EAAKM,SACF,GAAN,OAAUN,EAAKO,WAAf,kBAA8BP,EAAKQ,aAAnC,UAEM,GAAN,OAAUR,EAAKM,SAAf,kBAA4BN,EAAKO,WAAjC,UDSgBE,CAAgBrB,EAAOC,SAAWO,KAAKC,YAEvDD,KAAKV,MAAQE,EAAOF,MACpBU,KAAKX,WCPQ,KADQC,EDQWU,KAAKV,MAAMwB,QCNpC,4EACa,IAAVxB,EACH,2DAED,GAAN,OAAUA,EAAV,2D,wDDKa,OAAOU,KAAKjB,W,KASZ,cAAe,IAAbgC,EAAY,EAAZA,OACT5D,EAAkC4D,EAAlC5D,MAAgB6D,EAAkBD,EAA3BE,QAAeC,EAAYH,EAAZG,SADD,cAEJA,EAFI,GAErBC,EAFqB,KAEZC,EAFY,KAItBC,EAAc,IAAI9B,EAAW4B,GAC7BG,EAAW,IAAI/B,EAAW6B,GAEhC,OACC,yBAAKzD,UAAU,4BACd,yBAAKA,UAAU,OACd,yBAAKA,UAAU,UACd,yBAAK4D,MAAO,CAACC,QAAS,OAAQC,eAAgB,kBAC7C,yBAAK9D,UAAU,cAAcR,EAAMuE,iBAAnC,WACA,yBAAK/D,UAAU,QAAO,yBAAKJ,IAAG,oCAA+ByD,EAA/B,QAA2CvD,IAAI,QAI/E,yBAAKE,UAAU,kBACd,yBAAKA,UAAU,WACd,kBAAC,EAAD,CAAWoB,OAAQsC,EAAYM,YAAa3C,YAAaqC,EAAY3B,mBACrE,kBAAC,EAAD,CAAMT,cAAeoC,EAAY1B,mBAAoBT,YAAamC,EAAYzB,oBAE/E,yBAAKjC,UAAU,QACd,kBAAC,EAAD,CAAWoB,OAAQuC,EAASK,YAAa3C,YAAasC,EAAS5B,mBAC/D,kBAAC,EAAD,CAAMT,cAAeqC,EAAS3B,mBAAoBT,YAAaoC,EAAS1B,qBAI1E,yBAAKjC,UAAU,kBACd,yBAAKA,UAAU,WACd,kBAAC,EAAD,CAAUwB,cAAekC,EAAYxB,iBAGtC,yBAAKlC,UAAU,QACd,kBAAC,EAAD,CAAUwB,cAAemC,EAASzB,kBAGpC,yBAAKlC,UAAU,kBACd,yBAAKA,UAAU,WACd,kBAAC,EAAD,CAAO0B,WAAYgC,EAAYtB,gBAAiBT,MAAO+B,EAAYvB,WAAW8B,cAE/E,yBAAKjE,UAAU,QACd,kBAAC,EAAD,CAAO0B,WAAYiC,EAASvB,gBAAiBT,MAAOgC,EAASxB,WAAW8B,kBExE/D,G,MAAA,WACd,OACC,yBACCjE,UAAU,UACVkE,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,EAAE,IACFC,EAAE,IACFC,iBAAiB,gBACjBC,QAAQ,MACRC,QAAQ,YACRC,SAAS,YAET,0BAAMC,KAAK,UAAUC,EAAE,gBACtB,sCACCC,cAAc,YACdC,cAAc,MACdC,MAAM,IACNC,IAAI,OACJC,YAAY,aACZ1E,KAAK,YACL2E,OAAO,oBAGT,0BAAMP,KAAK,UAAUC,EAAE,mBACtB,sCACCC,cAAc,YACdC,cAAc,MACdC,MAAM,OACNC,IAAI,OACJC,YAAY,aACZ1E,KAAK,YACL2E,OAAO,oBAGT,0BAAMP,KAAK,UAAUC,EAAE,mBACtB,sCACCC,cAAc,YACdC,cAAc,MACdC,MAAM,OACNC,IAAI,OACJC,YAAY,aACZ1E,KAAK,YACL2E,OAAO,uBC1CG,cAAqC,IAAnClG,EAAkC,EAAlCA,QAASmG,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,QAC/BC,EAAcrG,EAAQkB,KAAI,SAACkD,GAAD,OAAY,kBAAC,EAAD,CAAQ9C,IAAG,UAAK8C,EAAOE,QAAZ,YAAuBgC,KAAKC,UAAYnC,OAAQA,OACjGoC,EAAUJ,EAAU,kBAAC,EAAD,MAAaC,EACvC,OACC,yBAAKrF,UAAU,gBACNwF,EACR,4BAAQC,SAAUL,EAASlE,QAASiE,GAApC,yECkEYO,E,4MAlEdC,MAAQ,CACP3G,QAAS,GACT4G,cAAe,EACfC,QAAS,CACR,MAAM,EACN,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,GAEN9E,OAAQ,WACRqE,SAAS,G,EAUVrF,SAAW,SAAC+F,GACX,EAAKC,UAAS,SAACJ,GACd,MAAO,CACNE,QAAQ,eAAKF,EAAME,QAAZ,GAAwBC,Q,EAKlChF,OAAS,SAACC,GACT,EAAKgF,SAAS,CAAChF,Y,EAGhBoE,WAAa,WACZ,EAAKY,UAAS,SAACJ,GAAD,MAAY,CACzBC,cAAeD,EAAMC,eAAiB,O,kEArBnB,IAAD,OACnB,sBAAC,4BAAAlH,EAAA,sEACsBF,IADtB,OACMQ,EADN,OAEA,EAAK+G,SAAS,CAAC/G,UAASoG,SAAS,IAFjC,0CAAD,K,+BAwBS,IAAD,EACuE/C,KAAKsD,MAApEK,EADR,EACDhH,QAA6B4G,EAD5B,EAC4BA,cAAeC,EAD3C,EAC2CA,QAAS9E,EADpD,EACoDA,OAAQqE,EAD5D,EAC4DA,QAC9DpG,ECpDO,SAACA,EAAS+B,GACxB,OAAQA,GACP,IAAK,WACJ,OAAO/B,EAAQI,OAAOC,MAAK,SAACC,EAAOC,GAAR,OAAkBD,EAAME,MAAQD,EAAMC,SAClE,IAAK,UACJ,OAAOR,EAAQI,OAAOC,MAAK,SAACC,EAAOC,GAGlC,OAFcD,EAAMiE,SAAS,GAAGzB,SAAWxC,EAAMiE,SAAS,GAAGzB,UAC/CvC,EAAMgE,SAAS,GAAGzB,SAAWvC,EAAMgE,SAAS,GAAGzB,aAG/D,QACC,OAAO9C,GDyCQiH,CEpDH,SAACjH,EAAS6G,GACxB,IACMK,EADcC,OAAOC,KAAKP,GACDC,QAAO,SAACxF,GAAD,OAASuF,EAAQvF,MAAMJ,KAAI,SAACI,GAAD,OAAUA,KAE3E,OAAMtB,EAAQmE,QAAU+C,EAAW/C,SAAW+C,EAAWG,UAAU,GAI5DrH,EAAQ8G,QAAO,YAAiB,IAAfvC,EAAc,EAAdA,SAAc,cACbA,EADa,GAC9BC,EAD8B,KACrBC,EADqB,KAE/B6C,EAAe9C,EAAQ7B,MACvB4E,EAAY9C,EAAK9B,MAEvB,OAAQuE,EAAWG,SAASC,EAAanD,SAAW+C,EAAWG,SAASE,EAAUpD,WAR3EnE,EF+CqBwH,CAAcR,EAAoBH,GAAU9E,GAAQ0F,MAAM,EAAGb,GAEzF,OACC,yBAAK5F,UAAU,OACd,yBAAKA,UAAU,kBACd,yBAAKA,UAAU,OACd,yBAAKA,UAAU,6BACd,kBAAC,EAAD,QAGF,yBAAKA,UAAU,OACd,yBAAKA,UAAU,mBACd,kBAAC,EAAD,CAASD,SAAUsC,KAAKtC,YAEzB,yBAAKC,UAAU,mBACd,kBAAC,EAAD,CAASc,OAAQuB,KAAKvB,OAAQC,OAAQA,IACtC,kBAAC2F,EAAD,CAAS1H,QAASA,EAASmG,WAAY9C,KAAK8C,WAAYC,QAASA,Y,GA1DtDuB,aGLlBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.6e49cfc1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9b4b57dd.svg\";","const getTickets = async () => {\n\tconst response = await fetch('https://front-test.beta.aviasales.ru/search');\n\tconst {searchId} = await response.json();\n\n\tconst tickets = [];\n\tasync function subscribe() {\n\t\ttry {\n\t\t\tconst response = await fetch(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`);\n\t\t\tconst {tickets: ticketsPack, stop} = await response.json();\n\t\t\tif (!stop) {\n\t\t\t\ttickets.push(ticketsPack);\n\t\t\t\treturn await subscribe();\n\t\t\t} else {\n\t\t\t\t//Самый дешевый\n\t\t\t\tconst flatted = tickets.flat().sort((item1, item2) => item1.price - item2.price);\n\n\t\t\t\t//Самый быстрый\n\t\t\t\t// const flatted = tickets.flat().sort((item1, item2) => {\n\t\t\t\t// \tconst time1 = item1.segments[0].duration + item1.segments[1].duration;\n\t\t\t\t// \tconst time2 = item2.segments[0].duration + item2.segments[1].duration;\n\t\t\t\t// \treturn time1 - time2;\n\t\t\t\t// });\n\n\t\t\t\treturn flatted;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 1000));\n\t\t\treturn await subscribe();\n\t\t}\n\t}\n\n\treturn await subscribe();\n};\n\nexport default getTickets;\n","import React from \"react\";\nimport './Logo.css';\nimport logo from '../../images/logo.svg';\n\nexport default () => {\n\treturn (\n\t\t<img src={logo} alt=\"\"/>\n\t);\n};\n","import React from \"react\";\nimport './Filters.css';\n\nexport default ({onFilter}) => {\n\tconst formChecks = [\n\t\t{id: 'all', value: '-1', text: 'Все'},\n\t\t{id: 'whitoutStops', value: '0', text: 'Без пересадок'},\n\t\t{id: 'oneStop', value: '1', text: '1 пересадка'},\n\t\t{id: 'twoStops', value: '2', text: '2 пересадки'},\n\t\t{id: 'threeStops', value: '3', text: '3 пересадки'},\n\t];\n\n\tconst getFormChecksHtml = (formChecks) => {\n\t\treturn formChecks.map(({id, value, text}) => {\n\t\t\treturn (\n\t\t\t\t<div key={id} className=\"form-check\">\n\t\t\t\t\t<input className=\"form-check-input\"\n\t\t\t\t\t       type=\"checkbox\"\n\t\t\t\t\t       value=\"\"\n\t\t\t\t\t       id={id}\n\t\t\t\t\t       onInput={(e) => onFilter({[value]: e.target.checked})}/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor={id}>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t)\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"filtersContainer pt-4 pb-3 mb-4\">\n\t\t\t<h5 className=\"header\">Количество пересадок</h5>\n\t\t\t{getFormChecksHtml(formChecks)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport './Sorting.css';\n\nexport default ({onSort, sortBy}) => {\n\tconst chepeastClasses = `cheapest ${sortBy === 'cheapest' ? 'active' : ''} p-4`;\n\tconst fastestClasses = `fastest ${sortBy === 'fastest' ? 'active' : ''} p-4`;\n\treturn (\n\t\t<div className=\"sorting mb-4\">\n\t\t\t<button className={chepeastClasses} onClick={() => onSort('cheapest')}>Самый дешёвый</button>\n\t\t\t<button className={fastestClasses} onClick={() => onSort('fastest')}>Самый быстрый</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport './Direction.css';\n\nexport default (props) => {\n\tconst {origin, destination} = props;\n\treturn (\n\t\t<div className=\"direction\">\n\t\t\t<span className=\"origin\">{origin}</span> – <span className=\"destination\">{destination}</span>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport './Time.css';\n\nexport default (props) => {\n\tconst {departureTime, arrivalTime} = props;\n\treturn (\n\t\t<div className=\"time\">\n\t\t\t<span className=\"departureTime\">{departureTime}</span> – <span className=\"arrivalTime\">{arrivalTime}</span>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport './Duration.css';\n\nexport default (props) => {\n\tconst {durationValue} = props;\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"durationTitle\">В пути</div>\n\t\t\t<div className=\"durationValue\">{durationValue}</div>\n\t\t</React.Fragment>\n\t);\n};\n","import React from \"react\";\nimport './Stops.css';\n\nexport default (props) => {\n\tconst {stopsCount, stops} = props;\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"stopsCount\">{stopsCount}</div>\n\t\t\t<div className=\"stops\">{stops ? stops : '—'}</div>\n\t\t</React.Fragment>\n\t);\n};\n","import React from \"react\";\nimport './Ticket.css';\nimport Direction from \"../ticket-inner-components/direction/Direction\";\nimport Time from \"../ticket-inner-components/time/Time\";\nimport Duration from \"../ticket-inner-components/duration/Duration\";\nimport Stops from \"../ticket-inner-components/stops/Stops\";\nimport {getStopsCount, getDurationTime, getArrivalTime} from '../utils/ticketUtils';\n\nclass FlightData {\n\tconstructor(flight) {\n\t\tthis._MS_IN_MIN = 60000;\n\t\tthis._departureDate = new Date(flight.date);\n\n\t\tthis.origin = flight.origin;\n\t\tthis.destination = flight.destination;\n\n\t\tthis.departureTime = this._departureDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n\t\tthis.arrivalTime = getArrivalTime(this._departureDate.getTime(), flight.duration * this._MS_IN_MIN);\n\t\tthis.duration = getDurationTime(flight.duration * this._MS_IN_MIN);\n\n\t\tthis.stops = flight.stops;\n\t\tthis.stopsCount = getStopsCount(this.stops.length);\n\t}\n\n\tgetOrigin () {return this.origin};\n\tgetDestination = () => this.destination;\n\tgetDepartureTime = () => this.departureTime;\n\tgetArrivalTime = () => this.arrivalTime;\n\tgetDuration = () => this.duration;\n\tgetStops = () => this.stops;\n\tgetStopsCount = () => this.stopsCount;\n}\n\nexport default ({ticket}) => {\n\tconst {price, carrier: iata, segments} = ticket;\n\tconst [thither, back] = segments;\n\n\tconst thitherData = new FlightData(thither);\n\tconst backData = new FlightData(back);\n\n\treturn (\n\t\t<div className=\"ticketContainer p-4 mb-4\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n\t\t\t\t\t\t<div className=\"price mb-3\">{price.toLocaleString()} Р</div>\n\t\t\t\t\t\t<div className=\"mr-4\"><img src={`https://pics.avs.io/99/36/${iata}.png`} alt=\"\"/></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 col-md-4\">\n\t\t\t\t\t<div className=\"thither\">\n\t\t\t\t\t\t<Direction origin={thitherData.getOrigin()} destination={thitherData.getDestination()}/>\n\t\t\t\t\t\t<Time departureTime={thitherData.getDepartureTime()} arrivalTime={thitherData.getArrivalTime()}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"back\">\n\t\t\t\t\t\t<Direction origin={backData.getOrigin()} destination={backData.getDestination()}/>\n\t\t\t\t\t\t<Time departureTime={backData.getDepartureTime()} arrivalTime={backData.getArrivalTime()}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 col-md-4\">\n\t\t\t\t\t<div className=\"thither\">\n\t\t\t\t\t\t<Duration durationValue={thitherData.getDuration()}/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"back\">\n\t\t\t\t\t\t<Duration durationValue={backData.getDuration()}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-5 col-md-4\">\n\t\t\t\t\t<div className=\"thither\">\n\t\t\t\t\t\t<Stops stopsCount={thitherData.getStopsCount()} stops={thitherData.getStops().toString()}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"back\">\n\t\t\t\t\t\t<Stops stopsCount={backData.getStopsCount()} stops={backData.getStops().toString()}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","const getArrivalTime = (departureTime, duration) => {\n\treturn new Date(departureTime + duration).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n};\n\nconst getDurationTime = (ms) => {\n\tconst date = new Date(0, 0, 0, 0, 0, 0, ms);\n\tif (date.getDay() === 0) {\n\t\treturn `${date.getHours()}ч ${date.getMinutes()}м`;\n\t} else {\n\t\treturn `${date.getDay()}д ${date.getHours()}ч`;\n\t}\n};\n\nconst getStopsCount = (stops) => {\n\tif (stops === 0) {\n\t\treturn 'Без пересадок';\n\t} else if (stops === 1) {\n\t\treturn '1 пересадка';\n\t} else {\n\t\treturn `${stops} пересадки`;\n\t}\n};\n\nexport {\n\tgetArrivalTime,\n\tgetDurationTime,\n\tgetStopsCount\n};\n","import React from \"react\";\nimport './Loading.css';\n\nexport default () => {\n\treturn (\n\t\t<svg\n\t\t\tclassName=\"loading\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"24\"\n\t\t\theight=\"30\"\n\t\t\tx=\"0\"\n\t\t\ty=\"0\"\n\t\t\tenableBackground=\"new 0 0 50 50\"\n\t\t\tversion=\"1.1\"\n\t\t\tviewBox=\"0 0 24 30\"\n\t\t\txmlSpace=\"preserve\"\n\t\t>\n\t\t\t<path fill=\"#2196F3\" d=\"M0 0H4V10H0z\">\n\t\t\t\t<animateTransform\n\t\t\t\t\tattributeName=\"transform\"\n\t\t\t\t\tattributeType=\"xml\"\n\t\t\t\t\tbegin=\"0\"\n\t\t\t\t\tdur=\"0.6s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\ttype=\"translate\"\n\t\t\t\t\tvalues=\"0 0; 0 20; 0 0\"\n\t\t\t\t></animateTransform>\n\t\t\t</path>\n\t\t\t<path fill=\"#2196F3\" d=\"M10 0H14V10H10z\">\n\t\t\t\t<animateTransform\n\t\t\t\t\tattributeName=\"transform\"\n\t\t\t\t\tattributeType=\"xml\"\n\t\t\t\t\tbegin=\"0.2s\"\n\t\t\t\t\tdur=\"0.6s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\ttype=\"translate\"\n\t\t\t\t\tvalues=\"0 0; 0 20; 0 0\"\n\t\t\t\t></animateTransform>\n\t\t\t</path>\n\t\t\t<path fill=\"#2196F3\" d=\"M20 0H24V10H20z\">\n\t\t\t\t<animateTransform\n\t\t\t\t\tattributeName=\"transform\"\n\t\t\t\t\tattributeType=\"xml\"\n\t\t\t\t\tbegin=\"0.4s\"\n\t\t\t\t\tdur=\"0.6s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\ttype=\"translate\"\n\t\t\t\t\tvalues=\"0 0; 0 20; 0 0\"\n\t\t\t\t></animateTransform>\n\t\t\t</path>\n\t\t</svg>\n\t);\n}\n","import React from \"react\";\nimport './TIckets.css';\nimport Ticket from \"../ticket/Ticket\";\nimport Loading from \"../loading/Loading\";\n\nexport default ({tickets, onShowMore, loading}) => {\n\tconst ticketsHtml = tickets.map((ticket) => <Ticket key={`${ticket.carrier}_${Math.random()}`} ticket={ticket}/>);\n\tconst content = loading ? <Loading/> : ticketsHtml;\n\treturn (\n\t\t<div className=\"tickets mb-5\">\n\t\t\t{(() => content)()}\n\t\t\t<button disabled={loading} onClick={onShowMore}>Показать ещё</button>\n\t\t</div>\n\t);\n};\n","import React, {Component} from 'react';\nimport './App.css';\nimport getTickets from \"../../getTickets\";\nimport Logo from \"../logo/Logo\";\nimport Filters from \"../filters/Filters\";\nimport Sorting from \"../sorting/Sorting\";\nimport Tickets from \"../tickets/Tickets\";\nimport filterTickets from \"../utils/filterTickets\";\nimport sortTickets from \"../utils/sortTickets\";\n\nclass App extends Component {\n\tstate = {\n\t\ttickets: [],\n\t\tshowMoreCount: 5,\n\t\tfilters: {\n\t\t\t'-1': false, // All\n\t\t\t'0': false, // Without stops\n\t\t\t'1': false, // 1 stop\n\t\t\t'2': false, // 2 stop\n\t\t\t'3': false // 3 stop\n\t\t},\n\t\tsortBy: 'cheapest',\n\t\tloading: true\n\t};\n\n\tcomponentDidMount() {\n\t\t(async () => {\n\t\t\tconst tickets = await getTickets();\n\t\t\tthis.setState({tickets, loading: false});\n\t\t})();\n\t}\n\n\tonFilter = (filter) => {\n\t\tthis.setState((state) => {\n\t\t\treturn {\n\t\t\t\tfilters: {...state.filters, ...filter}\n\t\t\t}\n\t\t});\n\t};\n\n\tonSort = (sortBy) => {\n\t\tthis.setState({sortBy});\n\t};\n\n\tonShowMore = () => {\n\t\tthis.setState((state) => ({\n\t\t\tshowMoreCount: state.showMoreCount += 5,\n\t\t}));\n\t};\n\n\trender() {\n\t\tconst {tickets: unProcessedTickets, showMoreCount, filters, sortBy, loading} = this.state;\n\t\tconst tickets = sortTickets(filterTickets(unProcessedTickets, filters), sortBy).slice(0, showMoreCount);\n\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className=\"container mt-3\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 logoContainer mb-2\">\n\t\t\t\t\t\t\t<Logo/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 col-md-4\">\n\t\t\t\t\t\t\t<Filters onFilter={this.onFilter}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-12 col-md-8\">\n\t\t\t\t\t\t\t<Sorting onSort={this.onSort} sortBy={sortBy}/>\n\t\t\t\t\t\t\t<Tickets tickets={tickets} onShowMore={this.onShowMore} loading={loading}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","export default (tickets, sortBy) => {\n\tswitch (sortBy) {\n\t\tcase 'cheapest':\n\t\t\treturn tickets.flat().sort((item1, item2) => item1.price - item2.price);\n\t\tcase 'fastest':\n\t\t\treturn tickets.flat().sort((item1, item2) => {\n\t\t\t\tconst time1 = item1.segments[0].duration + item1.segments[1].duration;\n\t\t\t\tconst time2 = item2.segments[0].duration + item2.segments[1].duration;\n\t\t\t\treturn time1 - time2;\n\t\t\t});\n\t\tdefault:\n\t\t\treturn tickets;\n\t}\n};\n","export default (tickets, filters) => {\n\tconst filtersKeys = Object.keys(filters);\n\tconst newFilters = filtersKeys.filter((key) => filters[key]).map((key) => +key);\n\n\tif (!(tickets.length && newFilters.length) || newFilters.includes(-1)) {\n\t\treturn tickets;\n\t}\n\n\treturn tickets.filter(({segments}) => {\n\t\tconst [thither, back] = segments;\n\t\tconst thitherStops = thither.stops;\n\t\tconst backStops = back.stops;\n\n\t\treturn (newFilters.includes(thitherStops.length) && newFilters.includes(backStops.length))\n\t});\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}